---
# defaults file for shibboleth-idp

shibbolethidp_state: latest
shibbolethidp_fqdn: "{{ ansible_fqdn }}"

shibbolethidp_version: 3.3.1
shibbolethidp_dst_dir: /opt
shibbolethidp_jetty_base: /opt/shibboleth-idp/jetty-base
shibbolethidp_jetty_home: /opt/jetty
shibbolethidp_idp_home: /opt/shibboleth-idp
shibbolethidp_entityid: https://{{ shibbolethidp_fqdn }}/idp/shibboleth
shibbolethidp_scope: "{{ shibbolethidp_fqdn.split('.')[1:] | join('.') }}"
shibbolethidp_root: dc={{ shibbolethidp_fqdn.split('.')[-2] }},dc={{ shibbolethidp_fqdn.split('.')[-1] }}
shibbolethidp_keystore_password: changemepl3453

# CONFIGURABLES
### Haka-test
shibbolethidp_hakatestcrt: "https://wiki.eduuni.fi/download/attachments/27297785/haka_testi_2015_sha2.crt?version=1&modificationDate=1430212953940&api=v2"

### nameId
shibbolethidp_dbuser: idp
shibbolethidp_dbpassword: not_set_yet

### ldap
shibbolethidp_ldapuser: "cn=Directory Manager"
shibbolethidp_ldappassword: not_set_yet
shibbolethidp_ldapsuffix: "{{ shibbolethidp_root }}"

### NameID configuration
shibbolethidp_persistentid_sourceattribute: uid
shibbolethidp_persistentid_salt: this_should_be_ch4ng3d
shibbolethidp_persistentid_datasource: shibboleth.JPAStorageService.DataSource

### MFA
shibbolethidp_mfaprovider: https://mfapilot.funet.fi
shibbolethidp_mpassidversion: 0.9.0
shibbolethidp_stepupversion: 0.9.0 #master

shibbolethidp_jetty_secure_port: 443
shibbolethidp_jetty_ssl_port: "{{ shibbolethidp_jetty_secure_port }}"
# shibbolethidp_jetty_backchannel_port: 8443
# shibbolethidp_jetty_backchannel_keystore_path: ../credentials/keystore.jks
# shibbolethidp_jetty_backchannel_keystore_password: changemepl3453
shibbolethidp_jetty_sslcontext_keystorepath: ../credentials/keystore.jks
shibbolethidp_jetty_sslcontext_keystorepassword: changemepl3453

